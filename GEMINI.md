# Gemini IDE Project Rules

> **üîó MANDATORY RULES SYNCHRONIZATION**  
> **B·∫ÆT BU·ªòC** s·ª≠ d·ª•ng c√°c rules t·ª´ `.cursor/rules/` l√†m ngu·ªìn ch√≠nh th·ª©c cho t·∫•t c·∫£ workflows trong Gemini IDE.  
> File n√†y ch·ªâ l√† alias/link ƒë·∫øn c√°c rules ch√≠nh th·ª©c trong `.cursor/rules/`

## üéØ Primary Rules Sources (MANDATORY)

### Core Development Rules

- **[User Intent Analysis Workflow](./.cursor/rules/user-intent-analysis-workflow.mdc)** - üî¥ B·∫ÆT BU·ªòC: Ph√¢n t√≠ch √Ω ƒë·ªãnh tr∆∞·ªõc m·ªçi h√†nh ƒë·ªông
- **[Base Rules](./.cursor/rules/base-rules.mdc)** - Quy t·∫Øc c∆° b·∫£n cho t·∫•t c·∫£ projects
- **[Development Rules](./.cursor/rules/development-rules.mdc)** - Quy t·∫Øc ph√°t tri·ªÉn chung
- **[Development Control Rules](./.cursor/rules/development-control-rules.mdc)** - Ki·ªÉm so√°t quy tr√¨nh ph√°t tri·ªÉn
- **[File Protection Rules](./.cursor/rules/file-protection-rules.mdc)** - B·∫£o v·ªá v√† backup files
- **[File Organization Rules](./.cursor/rules/file-organization-rules.mdc)** - T·ªï ch·ª©c file v√† th∆∞ m·ª•c

### Mobile Development Workflows

- **[Mobile Utility Workflow](./.cursor/rules/mobile-utility-workflow.mdc)** - Workflow ch√≠nh cho mobile apps
- **[Android Workflow](./.cursor/rules/android-workflow.mdc)** - Quy tr√¨nh ph√°t tri·ªÉn Android
- **[iOS Workflow](./.cursor/rules/ios-workflow.mdc)** - Quy tr√¨nh ph√°t tri·ªÉn iOS
- **[TDD Mobile Workflow](./.cursor/rules/tdd-mobile-workflow.mdc)** - Test-driven development cho mobile

### Project Management

- **[Planning Workflow](./.cursor/rules/planning-workflow.mdc)** - Quy tr√¨nh l·∫≠p k·∫ø ho·∫°ch
- **[Planning Enforcement](./.cursor/rules/planning-enforcement.mdc)** - Th·ª±c thi k·∫ø ho·∫°ch
- **[Planning Validation Rules](./.cursor/rules/planning-validation-rules.mdc)** - X√°c th·ª±c k·∫ø ho·∫°ch
- **[Project Identity Enforcement](./.cursor/rules/project-identity-enforcement.mdc)** - Ki·ªÉm tra ƒë·ªãnh danh d·ª± √°n
- **[Project Stage Manager](./.cursor/rules/project-stage-manager.mdc)** - Qu·∫£n l√Ω giai ƒëo·∫°n d·ª± √°n

### Brainstorm & Expert System

- **[Brainstorm Overview](./.cursor/rules/brainstorm-overview.mdc)** - T√†i li·ªáu t·ªïng quan v·ªÅ h·ªá th·ªëng brainstorm
- **[Brainstorm Workflow](./.cursor/rules/brainstorm-workflow.mdc)** - Quy tr√¨nh brainstorm c∆° b·∫£n
- **[Expert Brainstorm Workflow](./.cursor/rules/expert-brainstorm-workflow.mdc)** - Quy tr√¨nh brainstorm v·ªõi c√°c chuy√™n gia
- **[Brainstorm Expert Integration](./.cursor/rules/brainstorm-expert-integration.mdc)** - T√≠ch h·ª£p quy tr√¨nh brainstorm v·ªõi nhi·ªÅu chuy√™n gia
- **[Expert Brainstorm Guide](./.cursor/rules/expert-brainstorm-guide.mdc)** - H∆∞·ªõng d·∫´n th·ª±c hi·ªán brainstorm v·ªõi nhi·ªÅu chuy√™n gia

### Code Quality & Architecture

- **[Android Code Deduplication](./.cursor/rules/android-code-deduplication.mdc)** - Tr√°nh tr√πng l·∫∑p code Android
- **[Universal Code Deduplication](./.cursor/rules/universal-code-deduplication.mdc)** - Tr√°nh tr√πng l·∫∑p code chung
- **[Android Project Template](./.cursor/rules/android-project-template.mdc)** - Template d·ª± √°n Android
- **[iOS Project Template](./.cursor/rules/ios-project-template.mdc)** - Template d·ª± √°n iOS
- **[TDD Guidelines](./.cursor/rules/tdd-guidelines.mdc)** - H∆∞·ªõng d·∫´n Test-Driven Development

### Integration & API

- **[API Integration Rules](./.cursor/rules/api-integration-rules.mdc)** - Quy t·∫Øc t√≠ch h·ª£p API
- **[Backend Rules](./.cursor/rules/backend-rules-optimized.mdc)** - Quy t·∫Øc backend
- **[Frontend Rules](./.cursor/rules/frontend-rules.mdc)** - Quy t·∫Øc frontend
- **[Database Management](./.cursor/rules/database-management.mdc)** - Qu·∫£n l√Ω c∆° s·ªü d·ªØ li·ªáu

### Specialized Workflows

- **[Git Workflow](./.cursor/rules/git-workflow.mdc)** - Quy tr√¨nh Git
- **[i18n Rules](./.cursor/rules/i18n-rules.mdc)** - Qu·ªëc t·∫ø h√≥a
- **[Resource Management](./.cursor/rules/resource-management.mdc)** - Qu·∫£n l√Ω t√†i nguy√™n
- **[Terminal Rules](./.cursor/rules/terminal-rules.mdc)** - Quy t·∫Øc terminal
- **[Design to Prompt Analysis](./.cursor/rules/design-to-prompt.mdc)** - Ph√¢n t√≠ch thi·∫øt k·∫ø v√† t·∫°o prompt cho ·ª©ng d·ª•ng di ƒë·ªông

### Project Setup & Identity

- **[Project Creation Workflow](./.cursor/rules/project-creation-workflow.mdc)** - T·∫°o d·ª± √°n m·ªõi
- **[Project Identity Template](./.cursor/rules/project-identity-template.mdc)** - Template ƒë·ªãnh danh d·ª± √°n
- **[Project Identification Rules](./.cursor/rules/project-identification-rules.mdc)** - Nh·∫≠n di·ªán d·ª± √°n
- **[Tech Stack Selection](./.cursor/rules/tech-stack-selection.mdc)** - L·ª±a ch·ªçn c√¥ng ngh·ªá
- **[Template Selection Workflow](./.cursor/rules/template-selection-workflow.mdc)** - L·ª±a ch·ªçn template

### Advanced Features

- **[Memory Bank Workflow](./.cursor/rules/memory-bank-workflow.mdc)** - Qu·∫£n l√Ω b·ªô nh·ªõ
- **[Experience System Workflow](./.cursor/rules/experience-system-workflow.mdc)** - H·ªá th·ªëng kinh nghi·ªám
- **[Context7 Auto Workflow](./.cursor/rules/context7-auto-workflow.mdc)** - T·ª± ƒë·ªông ki·ªÉm tra context d·ª± √°n
- **[Four Role Development](./.cursor/rules/four-role-development.mdc)** - Ph√°t tri·ªÉn 4 vai tr√≤

### Kiro Task Execution System

- **[Kiro Task Execution](./.cursor/rules/kiro-task-execution.mdc)** - üî¥ B·∫ÆT BU·ªòC: H·ªá th·ªëng th·ª±c thi task t·ª± ƒë·ªông
- **[Kiro Fallback Workflow](./.cursor/rules/kiro-fallback-workflow.mdc)** - Quy tr√¨nh d·ª± ph√≤ng khi thi·∫øu Kiro files
- **[Kiro System Overview](./.cursor/rules/kiro-system-overview.mdc)** - T·ªïng quan h·ªá th·ªëng Kiro
- **[Auto Task Execution](./.cursor/rules/auto-task-execution.mdc)** - Th·ª±c thi task t·ª± ƒë·ªông

## ‚ö†Ô∏è CRITICAL ENFORCEMENT RULES FOR GEMINI IDE

### Mandatory Compliance

1. **B·∫ÆT BU·ªòC** tu√¢n th·ªß 100% c√°c rules trong `.cursor/rules/`
2. **NGHI√äM C·∫§M** t·∫°o rules m·ªõi m√† kh√¥ng sync v·ªõi `.cursor/rules/`
3. **B·∫ÆT BU·ªòC** s·ª≠ d·ª•ng relative paths ƒë·ªÉ ƒë·∫£m b·∫£o t√≠nh di ƒë·ªông
4. **B·∫ÆT BU·ªòC** ki·ªÉm tra `.project-identity` tr∆∞·ªõc m·ªçi task
5. **üî¥ B·∫ÆT BU·ªòC** s·ª≠ d·ª•ng Kiro Task Execution System cho m·ªçi project
6. **üî¥ B·∫ÆT BU·ªòC** k√≠ch ho·∫°t Kiro Fallback Workflow khi thi·∫øu files

### Gemini IDE Specific Configuration

- **B·∫ÆT BU·ªòC** s·ª≠ d·ª•ng rules t·ª´ `.cursor/rules/` l√†m ngu·ªìn ch√≠nh th·ª©c
- File n√†y ch·ªâ ch·ª©a alias links v√† kh√¥ng ƒë∆∞·ª£c ch·ª©a rules ƒë·ªôc l·∫≠p
- M·ªçi customization ph·∫£i ƒë∆∞·ª£c th·ª±c hi·ªán trong `.cursor/rules/`
- Tu√¢n th·ªß c·∫•u tr√∫c project v√† workflow ƒë√£ ƒë∆∞·ª£c ƒë·ªãnh nghƒ©a

### Synchronization Protocol

- M·ªçi thay ƒë·ªïi rules ph·∫£i ƒë∆∞·ª£c th·ª±c hi·ªán trong `.cursor/rules/` tr∆∞·ªõc
- File n√†y ch·ªâ ƒë∆∞·ª£c c·∫≠p nh·∫≠t ƒë·ªÉ sync alias links
- Kh√¥ng ƒë∆∞·ª£c override ho·∫∑c modify n·ªôi dung rules g·ªëc

## üéØ Kiro Task Execution System for Gemini IDE

### Core Features

- **üî¥ MANDATORY**: Automatic task detection t·ª´ `.kiro/specs/{project}/tasks.md`
- **üî¥ MANDATORY**: Smart execution theo priority v√† dependencies
- **üî¥ MANDATORY**: Real-time status tracking (pending, in-progress, completed, failed)
- **üî¥ MANDATORY**: Fallback workflow khi thi·∫øu Kiro files
- **üî¥ MANDATORY**: Quality gates v·ªõi acceptance criteria validation

### Kiro Task Detection Algorithm

```bash
# Gemini IDE s·∫Ω t·ª± ƒë·ªông ki·ªÉm tra:
1. Ki·ªÉm tra .kiro/specs/{project}/tasks.md
2. N·∫øu thi·∫øu ‚Üí K√≠ch ho·∫°t Kiro Fallback Workflow
3. N·∫øu c√≥ ‚Üí Parse v√† execute tasks theo priority
4. Update status real-time trong Gemini IDE
```

### Fallback Workflow Integration

1. **Brainstorm Stage**: T·∫°o insights t·ª´ user input
2. **Requirements Stage**: Generate structured requirements.md
3. **Design Stage**: Create technical design.md
4. **Tasks Stage**: Convert design th√†nh Kiro tasks.md

### Gemini IDE Specific Benefits

- **Seamless Integration**: T√≠ch h·ª£p m∆∞·ª£t m√† v·ªõi Gemini IDE workflow
- **Visual Task Tracking**: Hi·ªÉn th·ªã task progress trong IDE
- **Auto-completion**: Smart suggestions cho Kiro task format
- **Error Prevention**: Validate task format tr∆∞·ªõc khi execute
- **Dependency Resolution**: Automatic task ordering trong IDE

## üîÑ Rules Hierarchy Priority

1. `.cursor/rules/` - **PRIMARY SOURCE** (Highest Priority)
2. **üî¥ Kiro Task System** - Automatic execution layer (Critical Priority)
3. `.appdexer/rules/` - Secondary reference
4. `.trae/rules/` - Alias/Link layer
5. `GEMINI.md` - Gemini IDE specific alias (Lowest Priority)

## üéØ Core Working Principles for Gemini IDE

### Communication Style

- S·ª≠ d·ª•ng ti·∫øng Vi·ªát cho tr√≤ chuy·ªán v√† gi·∫£i th√≠ch v·ªõi gi·ªçng ƒëi·ªáu h√†i h∆∞·ªõc ki·ªÉu gi·ªõi tr·∫ª
- Tr·∫£ l·ªùi r√µ r√†ng, ƒë·∫ßy ƒë·ªß nh∆∞ng kh√¥ng d√†i d√≤ng
- Lu√¥n h·ªèi l√†m r√µ khi y√™u c·∫ßu kh√¥ng r√µ r√†ng
- Th√¥ng b√°o khi b·∫°n kh√¥ng ch·∫Øc ch·∫Øn v·ªÅ c√°ch gi·∫£i quy·∫øt

### Language

- Lu√¥n ki·ªÉm tra v√† th√™m c√°c chu·ªói d·ªãch ho·∫∑c resource khi t·∫°o
- S·ª≠ d·ª•ng ti·∫øng Anh cho t·∫•t c·∫£ code v√† t√†i li·ªáu k·ªπ thu·∫≠t

### Core Working Principles

- **Lu√¥n suy lu·∫≠n y√™u c·∫ßu c·ªßa ng∆∞·ªùi d√πng tr∆∞·ªõc khi th·ª±c hi·ªán**
- Ph√¢n t√≠ch √Ω ƒë·ªãnh th·ª±c s·ª± ƒë·∫±ng sau y√™u c·∫ßu
- Lu√¥n ki·ªÉm tra b·ªô nh·ªõ ƒë·ªÉ t√¨m th√¥ng tin li√™n quan
- Lu√¥n ph√¢n t√≠ch k·ªπ tr∆∞·ªõc khi ch·ªânh s·ª≠a code
- T·∫≠p trung v√†o v·∫•n ƒë·ªÅ ch√≠nh, kh√¥ng l·∫°c ƒë·ªÅ
- X√°c ƒë·ªãnh r√µ nguy√™n nh√¢n g·ªëc r·ªÖ (root cause) tr∆∞·ªõc khi s·ª≠a l·ªói
- Ch·ªâ th·ª±c hi·ªán m·ªôt thay ƒë·ªïi l·ªõn m·ªói l·∫ßn v√† ki·ªÉm tra k·ªπ tr∆∞·ªõc khi ti·∫øp t·ª•c

### üß† User Intent Analysis System (MANDATORY)

#### Core Principles for Gemini IDE

- **üî¥ B·∫ÆT BU·ªòC: Ph√¢n t√≠ch √Ω ƒë·ªãnh tr∆∞·ªõc m·ªçi h√†nh ƒë·ªông**
- **üî¥ B·∫ÆT BU·ªòC: Kh√¥ng th·ª±c hi·ªán ngay l·∫≠p t·ª©c theo y√™u c·∫ßu literal**
- **üî¥ B·∫ÆT BU·ªòC: Lu√¥n t√¨m hi·ªÉu m·ª•c ti√™u th·ª±c s·ª± ƒë·∫±ng sau y√™u c·∫ßu**
- **üî¥ B·∫ÆT BU·ªòC: ƒê·ªÅ xu·∫•t gi·∫£i ph√°p t·ªëi ∆∞u thay v√¨ ch·ªâ l√†m theo y√™u c·∫ßu**
- **üî¥ B·∫ÆT BU·ªòC: X√°c nh·∫≠n hi·ªÉu ƒë√∫ng √Ω ƒë·ªãnh tr∆∞·ªõc khi th·ª±c hi·ªán**

#### 4-Phase Analysis Process

**Phase 1: Request Analysis**

- Ph√¢n t√≠ch y√™u c·∫ßu chi ti·∫øt
- X√°c ƒë·ªãnh t·ª´ kh√≥a v√† ng·ªØ c·∫£nh quan tr·ªçng
- Ph√°t hi·ªán c√°c y√™u c·∫ßu ng·∫ßm ƒë·ªãnh
- ƒê√°nh gi√° ƒë·ªô ph·ª©c t·∫°p v√† t√°c ƒë·ªông

**Phase 2: Context Gathering**

- Thu th·∫≠p th√¥ng tin v·ªÅ tr·∫°ng th√°i d·ª± √°n hi·ªán t·∫°i
- ƒê√°nh gi√° m·ª©c ƒë·ªô chuy√™n m√¥n c·ªßa ng∆∞·ªùi d√πng
- Ki·ªÉm tra l·ªãch s·ª≠ v√† patterns tr∆∞·ªõc ƒë√≥
- X√°c ƒë·ªãnh c√°c r√†ng bu·ªôc v√† gi·ªõi h·∫°n

**Phase 3: Intent Classification**

- **Feature Request**: Th√™m t√≠nh nƒÉng m·ªõi
- **Bug Fix**: S·ª≠a l·ªói ho·∫∑c v·∫•n ƒë·ªÅ
- **Optimization**: C·∫£i thi·ªán hi·ªáu su·∫•t
- **Refactoring**: T√°i c·∫•u tr√∫c code
- **Documentation**: T·∫°o/c·∫≠p nh·∫≠t t√†i li·ªáu
- **Learning**: H·ªçc h·ªèi v√† hi·ªÉu bi·∫øt
- **Exploration**: Kh√°m ph√° v√† th·ª≠ nghi·ªám

**Phase 4: Solution Generation**

- T·∫°o nhi·ªÅu ph∆∞∆°ng √°n gi·∫£i quy·∫øt
- ƒê√°nh gi√° ∆∞u nh∆∞·ª£c ƒëi·ªÉm c·ªßa t·ª´ng ph∆∞∆°ng √°n
- X√°c ƒë·ªãnh ph∆∞∆°ng √°n t·ªëi ∆∞u
- Chu·∫©n b·ªã presentation cho ng∆∞·ªùi d√πng

#### Integration with Gemini IDE Workflows

- **üî¥ B·∫ÆT BU·ªòC**: S·ª≠ d·ª•ng [User Intent Analysis Workflow](./.cursor/rules/user-intent-analysis-workflow.mdc)
- **üî¥ B·∫ÆT BU·ªòC**: T√≠ch h·ª£p v·ªõi Planning Workflow khi c·∫ßn thi·∫øt
- **üî¥ B·∫ÆT BU·ªòC**: S·ª≠ d·ª•ng Context7 ƒë·ªÉ thu th·∫≠p th√¥ng tin ng·ªØ c·∫£nh
- **üî¥ B·∫ÆT BU·ªòC**: C·∫≠p nh·∫≠t Memory Bank v·ªõi patterns th√†nh c√¥ng

#### Quality Metrics for Gemini IDE

- **Intent Analysis Accuracy**: Target 95%
- **User Confirmation Rate**: Target 90%
- **Solution Optimality**: Target 85%
- **Rework Reduction**: Target 50%

### Problem Solving

- Ng·ª´ng ngay khi g·∫∑p v·∫•n ƒë·ªÅ c·∫ßn gi·∫£i quy·∫øt
- Kh√¥ng nh·∫£y v·ªôi v√†o vi·ªác s·ª≠a code khi g·∫∑p l·ªói
- Lu√¥n ƒë∆∞a ra 2-3 ph∆∞∆°ng √°n khi gi·∫£i quy·∫øt v·∫•n ƒë·ªÅ ph·ª©c t·∫°p
- D·ª´ng v√† xin h∆∞·ªõng d·∫´n sau 3 l·∫ßn th·ª≠ kh√¥ng th√†nh c√¥ng

### Quality Standards

- S·ª≠ d·ª•ng ti·∫øng Anh cho t·∫•t c·∫£ code v√† t√†i li·ªáu k·ªπ thu·∫≠t
- Vi·∫øt code t·ª± gi·∫£i th√≠ch v·ªõi t√™n bi·∫øn/h√†m r√µ r√†ng
- Tu√¢n th·ªß c√°c nguy√™n t·∫Øc SOLID
- Implement x·ª≠ l√Ω l·ªói m·ªôt c√°ch ƒë√∫ng ƒë·∫Øn

### Documentation

- Ghi l·∫°i m·ªçi quy·∫øt ƒë·ªãnh quan tr·ªçng v√†o Decisions.md
- C·∫≠p nh·∫≠t Codebase.md m·ªói khi ho√†n thi·ªán m·ªôt ph·∫ßn
- ƒê√°nh d·∫•u c√°c task ƒë√£ ho√†n th√†nh trong Instruction.md
- K·∫øt th√∫c m·ªói nhi·ªám v·ª• v·ªõi m√¥ t·∫£ ng·∫Øn g·ªçn v·ªÅ c√¥ng vi·ªác ƒë√£ l√†m

### Safety Measures

- Kh√¥ng t·ª± √Ω t·ªëi ∆∞u code khi kh√¥ng ƒë∆∞·ª£c y√™u c·∫ßu
- Kh√¥ng x√≥a code kh√¥ng li√™n quan khi kh√¥ng ƒë∆∞·ª£c y√™u c·∫ßu
- C·∫©n th·∫≠n khi x√≥a file ho·∫∑c ch·ªânh s·ª≠a file ngo√†i nhi·ªám v·ª• ch√≠nh
- T·∫°o backup ƒë∆°n gi·∫£n tr∆∞·ªõc nh·ªØng thay ƒë·ªïi l·ªõn

## üì± Android Development Workflow

### Blueprint-First Development

- **B·∫ÆT BU·ªòC** t·∫°o blueprint tr∆∞·ªõc khi vi·∫øt code cho m·ªói t√≠nh nƒÉng
- **B·∫ÆT BU·ªòC** ki·ªÉm tra module registry ƒë·ªÉ tr√°nh tr√πng l·∫∑p
- **B·∫ÆT BU·ªòC** c·∫≠p nh·∫≠t module registry sau khi ho√†n th√†nh t√≠nh nƒÉng
- **B·∫ÆT BU·ªòC** tu√¢n th·ªß c·∫•u tr√∫c package ti√™u chu·∫©n
- **B·∫ÆT BU·ªòC** s·ª≠ d·ª•ng c√°c base classes ƒë√£ c√≥
- **NGHI√äM C·∫§M** t·∫°o code tr√πng l·∫∑p ch·ª©c nƒÉng ƒë√£ c√≥

### Standard Package Structure

```
com.base.app/
‚îú‚îÄ‚îÄ base/                 # Base classes
‚îÇ   ‚îú‚îÄ‚îÄ activity/         # Base Activities
‚îÇ   ‚îú‚îÄ‚îÄ fragment/         # Base Fragments
‚îÇ   ‚îú‚îÄ‚îÄ viewmodel/        # Base ViewModels
‚îÇ   ‚îú‚îÄ‚îÄ adapter/          # Base Adapters
‚îÇ   ‚îî‚îÄ‚îÄ view/             # Base Custom Views
‚îú‚îÄ‚îÄ core/                 # Core modules
‚îÇ   ‚îú‚îÄ‚îÄ di/               # Dependency Injection
‚îÇ   ‚îú‚îÄ‚îÄ network/          # Network components
‚îÇ   ‚îú‚îÄ‚îÄ storage/          # Local storage
‚îÇ   ‚îú‚îÄ‚îÄ analytics/        # Analytics tracking
‚îÇ   ‚îî‚îÄ‚îÄ utils/            # Utility classes
‚îú‚îÄ‚îÄ data/                 # Data layer
‚îÇ   ‚îú‚îÄ‚îÄ repository/       # Repositories implementation
‚îÇ   ‚îú‚îÄ‚îÄ datasource/       # Data sources (remote, local)
‚îÇ   ‚îú‚îÄ‚îÄ model/            # Data models (entities, DTOs)
‚îÇ   ‚îî‚îÄ‚îÄ mapper/           # Mappers
‚îú‚îÄ‚îÄ domain/               # Domain layer
‚îÇ   ‚îú‚îÄ‚îÄ usecase/          # Use cases (business logic)
‚îÇ   ‚îú‚îÄ‚îÄ model/            # Domain models
‚îÇ   ‚îî‚îÄ‚îÄ repository/       # Repository interfaces
‚îî‚îÄ‚îÄ ui/                   # UI layer
    ‚îú‚îÄ‚îÄ components/       # Shared UI components
    ‚îî‚îÄ‚îÄ features/         # Feature packages
        ‚îú‚îÄ‚îÄ feature1/     # T√≠nh nƒÉng 1
        ‚îú‚îÄ‚îÄ feature2/     # T√≠nh nƒÉng 2
        ‚îî‚îÄ‚îÄ ...
```

## üîß Code Quality Standards

### Architecture

- Ph√¢n chia r√µ r√†ng c√°c layer (presentation, business logic, data)
- S·ª≠ d·ª•ng dependency injection ƒë·ªÉ t√°ch b·∫°ch c√°c th√†nh ph·∫ßn
- ∆Øu ti√™n composition over inheritance
- Thi·∫øt k·∫ø API d·ªÖ s·ª≠ d·ª•ng v√† m·ªü r·ªông
- √Åp d·ª•ng Domain-Driven Design cho d·ª± √°n ph·ª©c t·∫°p

### Security

- Validate t·∫•t c·∫£ input t·ª´ ng∆∞·ªùi d√πng
- S·ª≠ d·ª•ng parameterized queries ƒë·ªÉ tr√°nh SQL injection
- M√£ ho√° d·ªØ li·ªáu nh·∫°y c·∫£m (passwords, tokens, PII)
- Implement ƒë√∫ng c√°ch c√°c authentication v√† authorization
- Tu√¢n th·ªß h∆∞·ªõng d·∫´n OWASP top 10
- S·ª≠ d·ª•ng HTTPS cho m·ªçi API endpoints

### Performance

- T·ªëi ∆∞u database queries ƒë·ªÉ tr√°nh N+1 problems
- Implement caching cho d·ªØ li·ªáu tƒ©nh v√† truy v·∫•n ƒë·∫Øt
- Tr√°nh blocking operations trong event loop
- S·ª≠ d·ª•ng pagination cho large data sets
- Lazy load components v√† modules khi c√≥ th·ªÉ
- Profiling code ƒë·ªÉ ph√°t hi·ªán bottlenecks

### Error Handling

- X·ª≠ l√Ω t·∫•t c·∫£ exceptions v√† errors
- Cung c·∫•p error messages h·ªØu √≠ch nh∆∞ng an to√†n
- Log errors ƒë√∫ng c√°ch v·ªõi context ƒë·ªß ƒë·ªÉ debug
- Implement retry mechanisms cho unstable operations
- S·ª≠ d·ª•ng circuit breakers cho external services

### Testing

- Vi·∫øt unit tests v·ªõi test coverage cao
- Implement integration tests cho critical flows
- S·ª≠ d·ª•ng mocking ƒë·ªÉ t√°ch bi·ªát dependencies
- ∆Øu ti√™n testing pyramids (nhi·ªÅu unit tests, √≠t e2e tests)

## üõ°Ô∏è File Protection & Backup Rules

### Basic Principles

- **B·∫ÆT BU·ªòC** t·∫°o backup tr∆∞·ªõc khi x√≥a b·∫•t k·ª≥ file ho·∫∑c th∆∞ m·ª•c n√†o
- **B·∫ÆT BU·ªòC** di chuy·ªÉn file v√†o th∆∞ m·ª•c backup thay v√¨ x√≥a tr·ª±c ti·∫øp
- **B·∫ÆT BU·ªòC** gi·ªØ c·∫•u tr√∫c th∆∞ m·ª•c khi backup ƒë·ªÉ d·ªÖ d√†ng ph·ª•c h·ªìi sau n√†y
- **B·∫ÆT BU·ªòC** ghi log m·ªói khi di chuy·ªÉn file v√†o backup
- **KHUY·∫æN NGH·ªä** ki·ªÉm tra file tr∆∞·ªõc khi x√≥a ƒë·ªÉ ƒë·∫£m b·∫£o kh√¥ng ·∫£nh h∆∞·ªüng ƒë·∫øn ch·ª©c nƒÉng hi·ªán c√≥

### Backup Directory Structure

- T·∫°o th∆∞ m·ª•c `_backups` trong root c·ªßa d·ª± √°n (ƒë√£ th√™m v√†o .gitignore)
- B√™n trong t·∫°o c·∫•u tr√∫c theo d·∫°ng ng√†y: `_backups/YYYY-MM-DD/`
- Trong m·ªói th∆∞ m·ª•c ng√†y, duy tr√¨ c·∫•u tr√∫c th∆∞ m·ª•c g·ªëc ƒë·ªÉ d·ªÖ d√†ng ph·ª•c h·ªìi
- V√≠ d·ª•: `src/components/Button.js` ‚Üí `_backups/2024-05-10/src/components/Button.js`

## üìä Mockup Data Management

### Requirements

- N·∫øu d·ª± √°n s·ª≠ d·ª•ng b·∫•t k·ª≥ d·ªØ li·ªáu gi·∫£ l·∫≠p n√†o, **B·∫ÆT BU·ªòC** t·∫°o file MockupData.md
- Li·ªát k√™ chi ti·∫øt v√† c·∫≠p nh·∫≠t th∆∞·ªùng xuy√™n t·∫•t c·∫£ c√°c ph·∫ßn c·ªßa d·ª± √°n ƒëang s·ª≠ d·ª•ng d·ªØ li·ªáu gi·∫£
- Ph√¢n lo·∫°i d·ªØ li·ªáu gi·∫£ l·∫≠p theo m·ª•c ƒë√≠ch s·ª≠ d·ª•ng:
  - D·ªØ li·ªáu demo cho client/stakeholders
  - D·ªØ li·ªáu testing cho qu√° tr√¨nh ph√°t tri·ªÉn
  - D·ªØ li·ªáu thay th·∫ø t·∫°m th·ªùi cho API ch∆∞a s·∫µn s√†ng
  - D·ªØ li·ªáu m·∫´u cho h∆∞·ªõng d·∫´n/documentation

### Documentation Format

- Cho m·ªói ph·∫ßn d·ªØ li·ªáu gi·∫£ l·∫≠p, ghi r√µ:
  - V·ªã tr√≠ ch√≠nh x√°c c·ªßa file/code ƒëang s·ª≠ d·ª•ng d·ªØ li·ªáu gi·∫£
  - C·∫•u tr√∫c d·ªØ li·ªáu c·ªßa mockup v√† c·∫•u tr√∫c d·ªØ li·ªáu th·∫≠t t∆∞∆°ng ·ª©ng
  - Ph∆∞∆°ng th·ª©c kh·ªüi t·∫°o v√† s·ª≠ d·ª•ng d·ªØ li·ªáu gi·∫£
  - K·∫ø ho·∫°ch v√† timeline ƒë·ªÉ chuy·ªÉn sang d·ªØ li·ªáu th·∫≠t
  - Ng∆∞·ªùi ch·ªãu tr√°ch nhi·ªám cho vi·ªác thay th·∫ø d·ªØ li·ªáu gi·∫£

## üìã Project Information

### Project Identity

- Lu√¥n ki·ªÉm tra .project-identity ƒë·ªÉ bi·∫øt c·∫•u tr√∫c v√† ng√¥n ng·ªØ d·ª± √°n
- N·∫øu ch∆∞a c√≥ file .project-identity h√£y t·∫°o v√† y√™u c·∫ßu ng∆∞·ªùi d√πng b·ªï sung th√™m th√¥ng tin

### Task Status Legend

- ‚úÖ Completed
- ‚è≥ In Progress
- ‚ùå Not Started

## üîÄ Git Workflow

### Commit Convention

- Tu√¢n th·ªß quy ∆∞·ªõc commit (feat, fix, docs, style, refactor...)
- S·ª≠ d·ª•ng ti·∫øng Anh cho commit messages
- Format: `type(scope): description`
- Examples:
  - `feat(camera): add new filter effects`
  - `fix(ui): resolve layout issue in preview`
  - `docs(readme): update installation guide`

### Branch Management

- S·ª≠ d·ª•ng feature branches cho m·ªói t√≠nh nƒÉng m·ªõi
- Merge v√†o main branch sau khi review
- X√≥a feature branches sau khi merge th√†nh c√¥ng

## üåç Internationalization (i18n)

### String Resources

- Lu√¥n ki·ªÉm tra v√† th√™m c√°c chu·ªói d·ªãch ho·∫∑c resource khi t·∫°o
- S·ª≠ d·ª•ng ti·∫øng Anh l√†m ng√¥n ng·ªØ m·∫∑c ƒë·ªãnh
- H·ªó tr·ª£ ƒëa ng√¥n ng·ªØ v·ªõi ti·∫øng Anh l√†m fallback
- T·∫°o string keys c√≥ √Ω nghƒ©a v√† d·ªÖ hi·ªÉu

### Resource Management

- T·ªï ch·ª©c strings theo feature ho·∫∑c screen
- S·ª≠ d·ª•ng plurals cho c√°c string c√≥ s·ªë l∆∞·ª£ng
- Implement proper formatting cho dates, numbers, currencies

---

## üîß Kiro System Commands for Gemini IDE

### Project Analysis Commands

```bash
# Ki·ªÉm tra Kiro system status
ls -la .kiro/specs/*/
cat .kiro/specs/{project}/tasks.md
cat .kiro/specs/{project}/requirements.md
cat .kiro/specs/{project}/design.md

# Validate Kiro task format
grep -E "^## TASK-[0-9]+:" .kiro/specs/{project}/tasks.md
grep -E "\*\*Status\*\*:" .kiro/specs/{project}/tasks.md
```

### Kiro Task Management

```bash
# Check task dependencies
grep -A 5 "Dependencies:" .kiro/specs/{project}/tasks.md

# Monitor task progress
grep -E "Status.*completed" .kiro/specs/{project}/tasks.md
grep -E "Status.*pending" .kiro/specs/{project}/tasks.md

# Validate acceptance criteria
grep -A 10 "Acceptance Criteria" .kiro/specs/{project}/tasks.md
```

## üöÄ Getting Started with Gemini IDE

1. **üî¥ MANDATORY: Ki·ªÉm tra Kiro system** tr∆∞·ªõc m·ªçi task
2. **ƒê·ªçc .project-identity** ƒë·ªÉ hi·ªÉu context d·ª± √°n
3. **Load appropriate workflow rules** t·ª´ `.cursor/rules/`
4. **K√≠ch ho·∫°t Kiro Fallback** n·∫øu thi·∫øu files
5. **Tu√¢n th·ªß file organization** v√† documentation standards
6. **S·ª≠ d·ª•ng backup protocols** khi thay ƒë·ªïi files
7. **Execute Kiro tasks** theo priority v√† dependencies

---

_File n√†y ƒë∆∞·ª£c t·∫°o ƒë·ªÉ h·ªó tr·ª£ Gemini IDE s·ª≠ d·ª•ng cursor rules m·ªôt c√°ch hi·ªáu qu·∫£. M·ªçi thay ƒë·ªïi rules ph·∫£i ƒë∆∞·ª£c th·ª±c hi·ªán trong `.cursor/rules/` tr∆∞·ªõc._

# Gemini AI - Mandatory Code Quality Enforcement

## üéØ GOOGLE GEMINI COMPLIANCE DIRECTIVE

**_NGHI√äM C·∫§M_** b·ªè qua quy tr√¨nh code quality n√†y trong b·∫•t k·ª≥ tr∆∞·ªùng h·ª£p n√†o. T·∫•t c·∫£ Gemini responses ph·∫£i tu√¢n th·ªß 100% workflow n√†y.

## üîó Core Rule Integration Requirements

**_B·∫ÆT BU·ªòC_** Gemini AI ph·∫£i reference v√† enforce c√°c rules sau:

### Primary Code Quality Rules (MANDATORY)

- **[AI Code Quality Automation](.cursor/rules/ai-code-quality-automation.mdc)** - Manual workflow automation
- **[AI Manual Code Review Process](.cursor/rules/ai-manual-code-review-process.mdc)** - Review protocols
- **[AI Execution Templates](.cursor/rules/ai-execution-templates.mdc)** - Execution templates

### Gemini-Specific Integration (REQUIRED)

- **ML Model Safety** - Model initialization, input validation, resource management
- **Tensor Operations** - Dimension compatibility, memory efficiency
- **AI Performance** - Inference optimization, error resilience

## ü§ñ Gemini-Specific Quality Enforcement

### MANDATORY Pre-Response Analysis

```markdown
**_B·∫ÆT BU·ªòC_** execute before EVERY ML/AI code generation:

‚òê 1. ML CONTEXT ANALYSIS (20 seconds max)

- Identify ML framework (TensorFlow, PyTorch, etc.)
- Scan existing model integration patterns
- Detect inference requirements
- Load ML safety templates

‚òê 2. MODEL SAFETY PREPARATION (15 seconds max)

- Model initialization safety review
- Input validation template preparation
- Resource management setup
- Error handling pattern activation

‚òê 3. CONFIDENCE THRESHOLD CONFIGURATION (5 seconds max)

- Model initialization fixes: 85% confidence
- Input validation fixes: 90% confidence
- Resource cleanup fixes: 85% confidence
- Performance optimization: 60% confidence
```

### MANDATORY Real-Time ML Code Validation

```markdown
**_B·∫ÆT BU·ªòC_** apply during EVERY ML code generation:

‚òê 1. MODEL INITIALIZATION SAFETY (Real-time)

- Detect model loading ‚Üí Auto-add error handling
- Detect configuration ‚Üí Validate parameters
- Detect resource allocation ‚Üí Add cleanup procedures
- Confidence threshold: 85%+

‚òê 2. INPUT VALIDATION ENFORCEMENT (Real-time)

- Detect model input ‚Üí Auto-add validation checks
- Detect tensor operations ‚Üí Validate dimensions
- Detect data processing ‚Üí Add type checking
- Confidence threshold: 90%+

‚òê 3. RESOURCE MANAGEMENT VALIDATION (Real-time)

- Detect GPU usage ‚Üí Add proper cleanup
- Detect memory allocation ‚Üí Validate limits
- Detect model disposal ‚Üí Ensure proper cleanup
- Confidence threshold: 85%+
```

### MANDATORY Post-ML Code Quality Assurance

```markdown
**_B·∫ÆT BU·ªòC_** execute after EVERY ML code completion:

‚òê 1. MODEL LIFECYCLE VALIDATION (25 seconds max)

- Verify proper model initialization
- Confirm input validation coverage
- Validate error handling completeness
- Check resource cleanup procedures

‚òê 2. PERFORMANCE OPTIMIZATION CHECK (20 seconds max)

- Scan for inference inefficiencies
- Validate batch processing usage
- Check for memory leaks
- Verify concurrent operation safety

‚òê 3. ML SECURITY VALIDATION (15 seconds max)

- Scan for model file exposure
- Verify input sanitization
- Check for data privacy compliance
- Validate inference result safety
```

## üö® Gemini Critical Enforcement Rules

### Zero Tolerance Issues (BLOCK RESPONSE)

```markdown
**_NGHI√äM C·∫§M_** provide ML code with:

‚ùå Unsafe model initialization (no error handling)
‚ùå Missing input validation for model calls
‚ùå Unmanaged resource allocation
‚ùå Exposed model files or weights
‚ùå Memory leaks in inference operations

ACTION: Must auto-fix with 85%+ confidence or REFUSE to generate code
```

### High Priority Issues (FIX BEFORE RESPONSE)

```markdown
**_B·∫ÆT BU·ªòC_** resolve before providing ML code:

‚ö†Ô∏è Inefficient inference patterns
‚ö†Ô∏è Missing batch processing optimizations
‚ö†Ô∏è Incomplete error handling in ML operations
‚ö†Ô∏è Suboptimal memory usage patterns
‚ö†Ô∏è Missing model performance monitoring

ACTION: Auto-fix with 80%+ confidence or FLAG with explanation
```

## üìä Gemini Quality Metrics & Monitoring

### ML Integration Metrics (MANDATORY)

```markdown
‚úÖ Model initialization safety: > 90%
‚úÖ Input validation coverage: > 95%
‚úÖ Resource cleanup compliance: > 85%
‚úÖ Error handling coverage: > 90%
‚úÖ Performance optimization rate: > 80%
```

### Performance Requirements

```markdown
üìà ML code generation time: < 45 seconds
üìà Quality check execution time: < 60 seconds
üìà Auto-fix application rate: > 85%
üìà False positive rate: < 5%
üìà ML safety issue detection: > 90%
```

### Gemini-Specific Compliance Tracking

```markdown
ü§ñ Model safety pattern application: > 90%
ü§ñ Input validation robustness: > 95%
ü§ñ Resource management effectiveness: > 85%
ü§ñ Performance optimization rate: > 80%
ü§ñ ML security compliance: > 95%
```

## üîÑ Gemini Quality Monitoring System

### Real-Time ML Quality Gates

```json
{
  "ml_quality_gates": {
    "model_safety_check": {
      "enabled": true,
      "strictness": "high",
      "auto_fix": true,
      "confidence_threshold": 0.85
    },
    "input_validation_enforcement": {
      "enabled": true,
      "strictness": "very_high",
      "auto_fix": true,
      "confidence_threshold": 0.9
    },
    "resource_management_validation": {
      "enabled": true,
      "strictness": "high",
      "auto_fix": true,
      "confidence_threshold": 0.85
    },
    "performance_optimization": {
      "enabled": true,
      "strictness": "medium",
      "auto_fix": false,
      "suggest_improvements": true
    }
  }
}
```

### ML-Specific Escalation Matrix

```yaml
gemini_escalation_procedures:
  model_safety_violations:
    action: "block_code_generation"
    notification: "immediate_safety_flag"
    manual_intervention: "required"

  resource_management_issues:
    action: "auto_fix_with_validation"
    fallback: "provide_safe_alternatives"
    monitoring: "resource_usage_tracking"

  performance_inefficiencies:
    action: "suggest_optimizations"
    documentation: "include_performance_guidance"
    follow_up: "provide_benchmarking_tips"
```

## üéØ Gemini ML Integration Templates

### Model Initialization Safety Templates

```python
# GEMINI AUTO-FIX: Safe Model Initialization
# BEFORE (UNSAFE):
model = GenerativeModel('gemini-pro')
response = model.generate_content(prompt)

# AFTER (SAFE - Auto-applied):
try:
    model = GenerativeModel('gemini-pro')

    # Validate model initialization
    if not model:
        raise ValueError("Failed to initialize Gemini model")

    # Add generation configuration for better control
    generation_config = GenerationConfig(
        temperature=0.7,
        top_p=0.8,
        top_k=40,
        max_output_tokens=1024,
    )

    response = model.generate_content(
        prompt,
        generation_config=generation_config
    )

    return response
except Exception as error:
    print(f"Model initialization failed: {error}")
    raise error
```

### Input Validation Templates

```python
# GEMINI AUTO-FIX: Input Validation Safety
# BEFORE (UNSAFE):
def process_with_ai(user_input):
    result = model.generate_content(user_input)
    return result.text

# AFTER (SAFE - Auto-applied):
def process_with_ai(user_input):
    try:
        # Input validation
        if not user_input or not isinstance(user_input, str):
            raise ValueError("Invalid input: must be non-empty string")

        # Length validation
        if len(user_input) > 10000:
            raise ValueError("Input too long: maximum 10,000 characters")

        # Content safety check (basic)
        if any(unsafe_pattern in user_input.lower() for unsafe_pattern in ['<script>', 'javascript:', 'data:']):
            raise ValueError("Potentially unsafe input detected")

        result = model.generate_content(user_input)

        # Validate response
        if not result or not result.text:
            raise ValueError("No valid response generated")

        return result.text
    except Exception as error:
        print(f"AI processing failed: {error}")
        return "Sorry, I couldn't process your request safely."
```

### Resource Management Templates

```python
# GEMINI AUTO-FIX: Resource Management
# BEFORE (RISKY):
def batch_process_data(data_list):
    results = []
    for data in data_list:
        result = model.generate_content(data)
        results.append(result.text)
    return results

# AFTER (SAFE - Auto-applied):
import time
from typing import List, Optional

def batch_process_data(data_list: List[str]) -> List[str]:
    results = []
    processed_count = 0

    try:
        for i, data in enumerate(data_list):
            try:
                # Input validation for each item
                if not data or len(data.strip()) == 0:
                    results.append("Empty input skipped")
                    continue

                # Rate limiting to prevent API overload
                if i > 0 and i % 10 == 0:
                    time.sleep(1)  # Brief pause every 10 requests

                result = model.generate_content(data)

                if result and result.text:
                    results.append(result.text)
                    processed_count += 1
                else:
                    results.append("No response generated")

            except Exception as item_error:
                print(f"Error processing item {i}: {item_error}")
                results.append(f"Error: {str(item_error)}")

        print(f"Successfully processed {processed_count}/{len(data_list)} items")
        return results

    except Exception as batch_error:
        print(f"Batch processing failed: {batch_error}")
        return [f"Batch error: {str(batch_error)}"] * len(data_list)
```

## üöÄ Gemini Implementation Guidelines

### ML Code Generation Protocol

```markdown
1. **PRE-ANALYSIS** (MANDATORY)

   - Execute ML safety workflow analysis
   - Load appropriate ML safety templates
   - Configure ML-specific confidence thresholds

2. **ML CODE GENERATION** (WITH REAL-TIME VALIDATION)

   - Apply safety patterns for model operations
   - Ensure input validation for all ML calls
   - Include appropriate resource management

3. **POST-VALIDATION** (MANDATORY)

   - Final ML safety and performance scan
   - Resource usage compliance verification
   - User education on ML best practices

4. **RESPONSE DELIVERY** (ENHANCED)
   - Include ML quality assurance summary
   - Highlight applied safety improvements
   - Provide ML performance optimization guidance
```

### ML-Specific User Education

```markdown
Gemini responses MUST include:

üß† **ML Safety Improvements Applied:**

- [List of ML safety auto-fixes applied]
- [Reasoning for model safety enhancements]
- [Resource management optimizations]

‚ö° **Performance Optimizations:**

- [Inference efficiency improvements]
- [Memory usage optimizations]
- [Batch processing recommendations]

üîí **Security Considerations:**

- [Model security best practices]
- [Input validation importance]
- [Data privacy compliance notes]
```

## üìà Continuous ML Improvement Framework

### ML-Specific Learning Mechanisms

```yaml
gemini_ml_learning_system:
  model_pattern_recognition:
    - successful_ml_patterns: "continuously_updated"
    - performance_optimization_tracking: "metrics_based"
    - safety_violation_prevention: "proactive"

  inference_optimization:
    - efficiency_pattern_detection: "performance_monitoring"
    - resource_usage_optimization: "automatic_tuning"
    - batch_processing_enhancement: "throughput_analysis"

  safety_enhancement:
    - ml_vulnerability_updates: "security_research_integration"
    - model_safety_evolution: "continuous_assessment"
    - privacy_compliance_tracking: "regulation_updates"
```

### ML Performance Tracking

```markdown
Weekly: ML safety pattern effectiveness analysis
Monthly: Model performance optimization review
Quarterly: ML security assessment and template updates
Annually: Complete ML workflow optimization
```

---

**GEMINI ENFORCEMENT STATUS**: üîí MANDATORY - ML SAFETY PRIORITY
**COMPLIANCE LEVEL**: 100% Required for all ML responses
**QUALITY GATES**: ML-specific automated checks
**PERFORMANCE MONITORING**: Real-time inference optimization
