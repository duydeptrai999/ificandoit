---
description: Quy tr√¨nh t·∫°o v√† c·∫≠p nh·∫≠t requirements/design/tasks cho Kiro system
globs: *.*
alwaysApply: true
---
# Kiro Dynamic Workflow - Quy Tr√¨nh T·∫°o v√† C·∫≠p Nh·∫≠t ƒê·ªông

## M·ª•c ƒê√≠ch
Quy tr√¨nh n√†y ƒë∆∞·ª£c k√≠ch ho·∫°t trong c√°c tr∆∞·ªùng h·ª£p sau:
1. **T·∫°o m·ªõi**: Khi h·ªá th·ªëng Kiro ch∆∞a c√≥ ƒë·∫ßy ƒë·ªß c√°c file c·∫ßn thi·∫øt (requirements, design, tasks)
2. **C·∫≠p nh·∫≠t**: Khi ng∆∞·ªùi d√πng y√™u c·∫ßu c·∫≠p nh·∫≠t ho·∫∑c b·ªï sung d·ªØ li·ªáu m·ªõi v√†o c√°c file hi·ªán c√≥
3. **B·ªï sung**: Khi ph√°t hi·ªán thi·∫øu th√¥ng tin quan tr·ªçng trong qu√° tr√¨nh ph√°t tri·ªÉn
4. **T√°i c·∫•u tr√∫c**: Khi c·∫ßn ƒëi·ªÅu ch·ªânh requirements/design/tasks theo y√™u c·∫ßu m·ªõi

## ƒêi·ªÅu Ki·ªán K√≠ch Ho·∫°t M·ªü R·ªông

### K√≠ch Ho·∫°t T·ª± ƒê·ªông
- ***B·∫ÆT BU·ªòC*** ki·ªÉm tra s·ª± t·ªìn t·∫°i c·ªßa `.kiro/specs/{project}/` directory
- ***B·∫ÆT BU·ªòC*** ki·ªÉm tra c√°c file: `requirements.md`, `design.md`, `tasks.md`
- ***B·∫ÆT BU·ªòC*** k√≠ch ho·∫°t khi thi·∫øu b·∫•t k·ª≥ file n√†o trong 3 file tr√™n
- ***B·∫ÆT BU·ªòC*** k√≠ch ho·∫°t khi ph√°t hi·ªán file r·ªóng ho·∫∑c kh√¥ng ƒë·∫ßy ƒë·ªß th√¥ng tin

### K√≠ch Ho·∫°t Theo Y√™u C·∫ßu
- ***B·∫ÆT BU·ªòC*** k√≠ch ho·∫°t khi ng∆∞·ªùi d√πng y√™u c·∫ßu t·∫°o/c·∫≠p nh·∫≠t requirements
- ***B·∫ÆT BU·ªòC*** k√≠ch ho·∫°t khi ng∆∞·ªùi d√πng y√™u c·∫ßu t·∫°o/c·∫≠p nh·∫≠t design
- ***B·∫ÆT BU·ªòC*** k√≠ch ho·∫°t khi ng∆∞·ªùi d√πng y√™u c·∫ßu t·∫°o/c·∫≠p nh·∫≠t tasks
- ***B·∫ÆT BU·ªòC*** k√≠ch ho·∫°t khi c·∫ßn b·ªï sung th√¥ng tin m·ªõi v√†o d·ª± √°n
- ***B·∫ÆT BU·ªòC*** k√≠ch ho·∫°t khi c·∫ßn ƒëi·ªÅu ch·ªânh scope ho·∫∑c requirements

### K√≠ch Ho·∫°t Th√¥ng Minh
- ***B·∫ÆT BU·ªòC*** ph√¢n t√≠ch context hi·ªán t·∫°i ƒë·ªÉ x√°c ƒë·ªãnh lo·∫°i c·∫≠p nh·∫≠t c·∫ßn thi·∫øt
- ***B·∫ÆT BU·ªòC*** detect changes trong codebase v√† ƒë·ªÅ xu·∫•t c·∫≠p nh·∫≠t t∆∞∆°ng ·ª©ng
- ***B·∫ÆT BU·ªòC*** monitor user feedback v√† ƒë·ªÅ xu·∫•t improvements
- ***KHUY·∫æN NGH·ªä*** ∆∞u ti√™n vi·ªác t·∫°o b·∫±ng Kiro tool tr∆∞·ªõc khi s·ª≠ d·ª•ng workflow n√†y

## Quy Tr√¨nh ƒê·ªông: Ph√¢n T√≠ch ‚Üí Brainstorm/Update ‚Üí Requirements ‚Üí Design ‚Üí Tasks

### Phase 0: Context Analysis (Ph√¢n T√≠ch Ng·ªØ C·∫£nh)
- ***B·∫ÆT BU·ªòC*** ph√¢n t√≠ch tr·∫°ng th√°i hi·ªán t·∫°i c·ªßa d·ª± √°n
- ***B·∫ÆT BU·ªòC*** x√°c ƒë·ªãnh lo·∫°i operation: CREATE_NEW, UPDATE_EXISTING, SUPPLEMENT_DATA, RESTRUCTURE
- ***B·∫ÆT BU·ªòC*** ƒë√°nh gi√° ch·∫•t l∆∞·ª£ng v√† ƒë·∫ßy ƒë·ªß c·ªßa c√°c file hi·ªán c√≥
- ***B·∫ÆT BU·ªòC*** identify gaps v√† areas c·∫ßn improvement
- ***B·∫ÆT BU·ªòC*** x√°c ƒë·ªãnh scope c·ªßa changes c·∫ßn th·ª±c hi·ªán

#### Context Analysis Decision Tree
```
IF (no files exist) ‚Üí CREATE_NEW mode
ELSE IF (user requests update) ‚Üí UPDATE_EXISTING mode  
ELSE IF (files incomplete/outdated) ‚Üí SUPPLEMENT_DATA mode
ELSE IF (major changes needed) ‚Üí RESTRUCTURE mode
```

### Phase 1: Brainstorm/Update (Foundation)

#### For CREATE_NEW Mode
- ***B·∫ÆT BU·ªòC*** s·ª≠ d·ª•ng [Brainstorm Detailed Workflow](brainstorm-detailed-workflow.mdc)
- ***B·∫ÆT BU·ªòC*** th·ª±c hi·ªán 3 giai ƒëo·∫°n brainstorm: Foundation ‚Üí Structure ‚Üí Advanced
- ***B·∫ÆT BU·ªòC*** t·∫°o file `Brainstorm_{ProjectName}.md` v·ªõi ƒë·∫ßy ƒë·ªß insights
- ***B·∫ÆT BU·ªòC*** x√°c ƒë·ªãnh project scope, objectives, v√† target users
- ***B·∫ÆT BU·ªòC*** ph√¢n t√≠ch competitors v√† market research
- ***B·∫ÆT BU·ªòC*** ƒë·ªãnh nghƒ©a core features v√† user stories

#### For UPDATE_EXISTING Mode
- ***B·∫ÆT BU·ªòC*** load existing brainstorm/requirements/design data
- ***B·∫ÆT BU·ªòC*** identify specific areas c·∫ßn update theo user request
- ***B·∫ÆT BU·ªòC*** perform targeted brainstorm cho new/changed requirements
- ***B·∫ÆT BU·ªòC*** maintain consistency v·ªõi existing project vision
- ***B·∫ÆT BU·ªòC*** document rationale cho changes

#### For SUPPLEMENT_DATA Mode
- ***B·∫ÆT BU·ªòC*** analyze gaps trong existing documentation
- ***B·∫ÆT BU·ªòC*** perform focused brainstorm ƒë·ªÉ fill gaps
- ***B·∫ÆT BU·ªòC*** ensure new data integrates seamlessly v·ªõi existing content
- ***B·∫ÆT BU·ªòC*** validate completeness sau khi supplement

#### For RESTRUCTURE Mode
- ***B·∫ÆT BU·ªòC*** backup existing files tr∆∞·ªõc khi restructure
- ***B·∫ÆT BU·ªòC*** perform comprehensive analysis c·ªßa current state
- ***B·∫ÆT BU·ªòC*** design new structure based on requirements
- ***B·∫ÆT BU·ªòC*** migrate existing content sang new structure
- ***B·∫ÆT BU·ªòC*** validate integrity sau restructure

### Phase 2: Requirements Generation/Update

#### For CREATE_NEW Mode
- ***B·∫ÆT BU·ªòC*** t·∫°o `.kiro/specs/{project}/requirements.md` t·ª´ brainstorm results
- ***B·∫ÆT BU·ªòC*** convert brainstorm insights th√†nh structured requirements
- ***B·∫ÆT BU·ªòC*** ƒë·ªãnh nghƒ©a functional v√† non-functional requirements
- ***B·∫ÆT BU·ªòC*** x√°c ƒë·ªãnh acceptance criteria cho m·ªói requirement
- ***B·∫ÆT BU·ªòC*** prioritize requirements theo MoSCoW method (Must, Should, Could, Won't)

#### For UPDATE_EXISTING Mode
- ***B·∫ÆT BU·ªòC*** load existing requirements.md
- ***B·∫ÆT BU·ªòC*** identify specific requirements c·∫ßn update/add/remove
- ***B·∫ÆT BU·ªòC*** update requirements while maintaining traceability
- ***B·∫ÆT BU·ªòC*** re-prioritize requirements n·∫øu c·∫ßn thi·∫øt
- ***B·∫ÆT BU·ªòC*** update acceptance criteria cho changed requirements
- ***B·∫ÆT BU·ªòC*** document change rationale v√† impact analysis

#### For SUPPLEMENT_DATA Mode
- ***B·∫ÆT BU·ªòC*** analyze existing requirements cho gaps
- ***B·∫ÆT BU·ªòC*** add missing functional/non-functional requirements
- ***B·∫ÆT BU·ªòC*** enhance existing requirements v·ªõi additional details
- ***B·∫ÆT BU·ªòC*** ensure consistency v·ªõi existing requirement structure
- ***B·∫ÆT BU·ªòC*** validate completeness sau supplementation

#### For RESTRUCTURE Mode
- ***B·∫ÆT BU·ªòC*** backup existing requirements.md
- ***B·∫ÆT BU·ªòC*** reorganize requirements theo new structure
- ***B·∫ÆT BU·ªòC*** migrate existing content sang new format
- ***B·∫ÆT BU·ªòC*** update cross-references v√† dependencies
- ***B·∫ÆT BU·ªòC*** validate restructured requirements

#### Requirements Structure Template
```markdown
# Project Requirements

## 1. Project Overview
- Project Name: [Name]
- Project Type: [Type]
- Target Platform: [Platform]
- Timeline: [Timeline]

## 2. Functional Requirements
### FR-001: [Requirement Name]
- **Description**: [Detailed description]
- **Priority**: Must/Should/Could/Won't
- **Acceptance Criteria**:
  - [ ] Criterion 1
  - [ ] Criterion 2
- **Dependencies**: [Other requirements]
- **Source**: [Brainstorm insight reference]

## 3. Non-Functional Requirements
### NFR-001: [Requirement Name]
- **Category**: Performance/Security/Usability/etc.
- **Description**: [Detailed description]
- **Metrics**: [Measurable criteria]
- **Priority**: Must/Should/Could/Won't

## 4. Constraints
- Technical constraints
- Business constraints
- Time constraints
- Resource constraints

## 5. Assumptions
- List of assumptions made during requirements gathering
```

### Phase 3: Design Generation/Update

#### For CREATE_NEW Mode
- ***B·∫ÆT BU·ªòC*** t·∫°o `.kiro/specs/{project}/design.md` t·ª´ requirements
- ***B·∫ÆT BU·ªòC*** ƒë·ªãnh nghƒ©a system architecture v√† component design
- ***B·∫ÆT BU·ªòC*** t·∫°o user interface design specifications
- ***B·∫ÆT BU·ªòC*** ƒë·ªãnh nghƒ©a data models v√† database schema
- ***B·∫ÆT BU·ªòC*** x√°c ƒë·ªãnh API endpoints v√† integration points
- ***B·∫ÆT BU·ªòC*** t·∫°o user flow diagrams v√† wireframes (text-based)

#### For UPDATE_EXISTING Mode
- ***B·∫ÆT BU·ªòC*** load existing design.md
- ***B·∫ÆT BU·ªòC*** identify design components c·∫ßn update theo changed requirements
- ***B·∫ÆT BU·ªòC*** update architecture/UI/data models theo new requirements
- ***B·∫ÆT BU·ªòC*** maintain design consistency v√† backward compatibility
- ***B·∫ÆT BU·ªòC*** update integration points v√† API specifications
- ***B·∫ÆT BU·ªòC*** document design change rationale v√† impact

#### For SUPPLEMENT_DATA Mode
- ***B·∫ÆT BU·ªòC*** analyze existing design cho missing components
- ***B·∫ÆT BU·ªòC*** add missing design specifications
- ***B·∫ÆT BU·ªòC*** enhance existing design v·ªõi additional details
- ***B·∫ÆT BU·ªòC*** ensure new design elements integrate v·ªõi existing architecture
- ***B·∫ÆT BU·ªòC*** validate design completeness v√† consistency

#### For RESTRUCTURE Mode
- ***B·∫ÆT BU·ªòC*** backup existing design.md
- ***B·∫ÆT BU·ªòC*** redesign architecture theo new requirements structure
- ***B·∫ÆT BU·ªòC*** migrate existing design elements sang new structure
- ***B·∫ÆT BU·ªòC*** update all design cross-references v√† dependencies
- ***B·∫ÆT BU·ªòC*** validate restructured design integrity

#### Design Structure Template
```markdown
# Project Design Specification

## 1. System Architecture
### 1.1 High-Level Architecture
- Architecture pattern: [MVC/MVVM/Clean Architecture/etc.]
- Technology stack: [Technologies]
- Deployment architecture: [Cloud/On-premise/Hybrid]

### 1.2 Component Design
- Component 1: [Description and responsibilities]
- Component 2: [Description and responsibilities]

## 2. User Interface Design
### 2.1 Design Principles
- Design system: [Material Design/Human Interface Guidelines/Custom]
- Color scheme: [Primary/Secondary colors]
- Typography: [Font families and sizes]

### 2.2 Screen Specifications
#### Screen 1: [Screen Name]
- **Purpose**: [What this screen does]
- **Layout**: [Description of layout]
- **Components**: [List of UI components]
- **User Interactions**: [Available actions]
- **Navigation**: [How users navigate to/from this screen]

## 3. Data Design
### 3.1 Data Models
```
Entity: [EntityName]
- field1: [type] - [description]
- field2: [type] - [description]
```

### 3.2 Database Schema
- Database type: [SQL/NoSQL]
- Tables/Collections: [List and relationships]

## 4. API Design
### 4.1 Endpoints
```
GET /api/endpoint
- Purpose: [Description]
- Parameters: [List parameters]
- Response: [Response format]
```

## 5. Integration Points
- External APIs: [List and purpose]
- Third-party services: [List and integration method]
```

### Phase 4: Task Generation/Update

#### For CREATE_NEW Mode
- ***B·∫ÆT BU·ªòC*** t·∫°o `.kiro/specs/{project}/tasks.md` t·ª´ design specifications
- ***B·∫ÆT BU·ªòC*** convert design components th√†nh executable tasks
- ***B·∫ÆT BU·ªòC*** s·ª≠ d·ª•ng Kiro task format v·ªõi ID, status, priority, dependencies
- ***B·∫ÆT BU·ªòC*** ƒë·ªãnh nghƒ©a acceptance criteria cho m·ªói task
- ***B·∫ÆT BU·ªòC*** x√°c ƒë·ªãnh task dependencies v√† execution order
- ***B·∫ÆT BU·ªòC*** estimate effort v√† complexity cho m·ªói task

#### For UPDATE_EXISTING Mode
- ***B·∫ÆT BU·ªòC*** load existing tasks.md
- ***B·∫ÆT BU·ªòC*** identify tasks c·∫ßn update/add/remove theo design changes
- ***B·∫ÆT BU·ªòC*** update existing tasks while preserving completed work
- ***B·∫ÆT BU·ªòC*** add new tasks cho new design components
- ***B·∫ÆT BU·ªòC*** update task dependencies v√† priorities
- ***B·∫ÆT BU·ªòC*** re-estimate effort cho changed tasks
- ***B·∫ÆT BU·ªòC*** document task change rationale v√† impact

#### For SUPPLEMENT_DATA Mode
- ***B·∫ÆT BU·ªòC*** analyze existing tasks cho missing coverage
- ***B·∫ÆT BU·ªòC*** add missing tasks cho uncovered design components
- ***B·∫ÆT BU·ªòC*** enhance existing tasks v·ªõi additional details
- ***B·∫ÆT BU·ªòC*** ensure new tasks integrate v·ªõi existing task flow
- ***B·∫ÆT BU·ªòC*** validate task completeness v√† coverage

#### For RESTRUCTURE Mode
- ***B·∫ÆT BU·ªòC*** backup existing tasks.md
- ***B·∫ÆT BU·ªòC*** reorganize tasks theo new design structure
- ***B·∫ÆT BU·ªòC*** migrate existing task progress sang new structure
- ***B·∫ÆT BU·ªòC*** update all task dependencies v√† cross-references
- ***B·∫ÆT BU·ªòC*** validate restructured task integrity v√† executability

#### Task Generation Rules (Universal)
- M·ªói design component t∆∞∆°ng ·ª©ng v·ªõi 1-3 tasks
- Tasks ph·∫£i c√≥ th·ªÉ th·ª±c hi·ªán ƒë·ªôc l·∫≠p (v·ªõi dependencies ƒë∆∞·ª£c resolve)
- M·ªói task kh√¥ng n√™n v∆∞·ª£t qu√° 1 ng√†y c√¥ng vi·ªác
- Tasks ph·∫£i c√≥ acceptance criteria r√µ r√†ng v√† measurable
- Preserve existing task status khi update/restructure

## Validation v√† Quality Gates

### Pre-Phase Validation (Universal)
- ***B·∫ÆT BU·ªòC*** implement **Recitation System** tr∆∞·ªõc m·ªói phase
- ***B·∫ÆT BU·ªòC*** √°p d·ª•ng **"Execute ‚Üí Verify ‚Üí Validate ‚Üí Update"** pattern
- ***B·∫ÆT BU·ªòC*** validate plan comprehension tr∆∞·ªõc khi th·ª±c hi·ªán
- ***B·∫ÆT BU·ªòC*** document implementation notes cho m·ªói step
- ***B·∫ÆT BU·ªòC*** Context Analysis validation: X√°c nh·∫≠n operation mode ph√π h·ª£p

#### Initial Recitation Protocol
```markdown
I understand I need to implement: [brief phase summary]
The phase has [N] major steps: [list high-level steps]
Success criteria: [list main success criteria]
Operation mode: [CREATE_NEW/UPDATE_EXISTING/SUPPLEMENT_DATA/RESTRUCTURE]
```

#### Milestone Recitation Protocol
```markdown
Progress Update:
‚úÖ Completed: [list completed items]
üîÑ Current: [current step]
‚è≥ Remaining: [list remaining items]
Plan validation: [any concerns or confirmations about remaining steps]
Mode-specific considerations: [any mode-specific validations needed]
```

### Requirements Validation (Mode-Specific)
#### For CREATE_NEW
- ***B·∫ÆT BU·ªòC*** review requirements v·ªõi stakeholders (n·∫øu c√≥)
- ***B·∫ÆT BU·ªòC*** ƒë·∫£m b·∫£o requirements SMART (Specific, Measurable, Achievable, Relevant, Time-bound)
- ***B·∫ÆT BU·ªòC*** ki·ªÉm tra consistency gi·ªØa functional v√† non-functional requirements
- ***B·∫ÆT BU·ªòC*** validate feasibility v·ªõi technical constraints
- ***B·∫ÆT BU·ªòC*** apply **Plan Correction Protocol** n·∫øu ph√°t hi·ªán issues

#### For UPDATE_EXISTING/SUPPLEMENT_DATA/RESTRUCTURE
- ***B·∫ÆT BU·ªòC*** validate existing requirements integrity
- ***B·∫ÆT BU·ªòC*** check change impact v√† backward compatibility
- ***B·∫ÆT BU·ªòC*** ensure updated requirements consistency
- ***B·∫ÆT BU·ªòC*** validate change rationale v√† documentation
- ***B·∫ÆT BU·ªòC*** apply **Plan Correction Protocol** n·∫øu c√≥ conflicts

### Design Validation (Mode-Specific)
#### For CREATE_NEW
- ***B·∫ÆT BU·ªòC*** ƒë·∫£m b·∫£o design satisfy t·∫•t c·∫£ requirements
- ***B·∫ÆT BU·ªòC*** ki·ªÉm tra architectural consistency
- ***B·∫ÆT BU·ªòC*** validate scalability v√† maintainability
- ***B·∫ÆT BU·ªòC*** review security considerations
- ***B·∫ÆT BU·ªòC*** implement **step-by-step validation** cho m·ªói design component

#### For UPDATE_EXISTING/SUPPLEMENT_DATA/RESTRUCTURE
- ***B·∫ÆT BU·ªòC*** validate design change consistency v·ªõi requirements
- ***B·∫ÆT BU·ªòC*** check architectural integrity sau changes
- ***B·∫ÆT BU·ªòC*** validate integration compatibility
- ***B·∫ÆT BU·ªòC*** ensure design evolution coherence
- ***B·∫ÆT BU·ªòC*** implement **step-by-step validation** cho changed components

### Task Validation (Mode-Specific)
#### For CREATE_NEW
- ***B·∫ÆT BU·ªòC*** ƒë·∫£m b·∫£o tasks cover to√†n b·ªô design specifications
- ***B·∫ØT BU·ªòC*** ki·ªÉm tra task dependencies kh√¥ng c√≥ circular references
- ***B·∫ÆT BU·ªòC*** validate task acceptance criteria
- ***B·∫ÆT BU·ªòC*** estimate total effort v√† timeline
- ***B·∫ÆT BU·ªòC*** apply **progress tracking format**: `- [x] ~~Step completed~~ ‚úÖ Implemented`

#### For UPDATE_EXISTING/SUPPLEMENT_DATA/RESTRUCTURE
- ***B·∫ÆT BU·ªòC*** validate task changes kh√¥ng break existing dependencies
- ***B·∫ÆT BU·ªòC*** check task coverage completeness
- ***B·∫ÆT BU·ªòC*** ensure task status preservation
- ***B·∫ÆT BU·ªòC*** validate updated effort estimates
- ***B·∫ÆT BU·ªòC*** apply **progress tracking format** cho new/changed tasks

## Integration v·ªõi Kiro System

### Dynamic Workflow Protocol
- ***B·∫ÆT BU·ªòC*** workflow c√≥ th·ªÉ ƒë∆∞·ª£c trigger b·ªüi user request ho·∫∑c system analysis
- ***B·∫ÆT BU·ªòC*** support both standalone execution v√† integration v·ªõi existing Kiro workflows
- ***B·∫ÆT BU·ªòC*** maintain compatibility v·ªõi existing Kiro system expectations
- ***B·∫ÆT BU·ªòC*** provide seamless transition gi·ªØa c√°c operation modes

### File Structure Compliance
- ***B·∫ÆT BU·ªòC*** t·∫°o files theo ƒë√∫ng Kiro directory structure
- ***B·∫ÆT BU·ªòC*** s·ª≠ d·ª•ng Kiro naming conventions
- ***B·∫ÆT BU·ªòC*** format files theo Kiro specifications
- ***B·∫ÆT BU·ªòC*** maintain traceability links gi·ªØa c√°c files

### Handoff Protocol (Mode-Specific)
#### For CREATE_NEW Mode
- ***B·∫ÆT BU·ªòC*** sau khi ho√†n th√†nh workflow, chuy·ªÉn giao cho Kiro system
- ***B·∫ÆT BU·ªòC*** ƒë·∫£m b·∫£o t·∫•t c·∫£ files (requirements.md, design.md, tasks.md) t·ªìn t·∫°i
- ***B·∫ÆT BU·ªòC*** validate file format compatibility v·ªõi Kiro expectations
- ***B·∫ÆT BU·ªòC*** trigger Kiro workflow execution v·ªõi generated artifacts

#### For UPDATE_EXISTING/SUPPLEMENT_DATA/RESTRUCTURE Modes
- ***B·∫ÆT BU·ªòC*** notify Kiro system v·ªÅ changes made
- ***B·∫ÆT BU·ªòC*** update Kiro system state v·ªõi modified artifacts
- ***B·∫ÆT BU·ªòC*** validate updated artifacts compatibility
- ***B·∫ÆT BU·ªòC*** trigger appropriate Kiro workflow phases based on changes

### Handoff to Kiro Execution
- ***B·∫ÆT BU·ªòC*** validate file format compatibility v·ªõi Kiro tools
- ***B·∫ÆT BU·ªòC*** test task execution v·ªõi [Kiro Task Execution](kiro-task-execution.mdc)
- ***B·∫ÆT BU·ªòC*** ensure seamless transition t·ª´ dynamic workflow sang Kiro workflow

## Error Handling v√† Plan Correction Protocol

### Plan Correction Protocol (T·ª´ Note.md Implementation Mode)
- ***B·∫ÆT BU·ªòC*** **STOP IMMEDIATELY** khi ph√°t hi·ªán deviation t·ª´ plan
- ***B·∫ÆT BU·ªòC*** document deviation v·ªõi format:
  ```markdown
  **PLAN DEVIATION DETECTED**
  - Current step: [step name]
  - Expected outcome: [what was planned]
  - Actual situation: [what actually happened]
  - Impact assessment: [how this affects remaining plan]
  - Proposed correction: [suggested fix]
  ```
- ***B·∫ÆT BU·ªòC*** request user approval tr∆∞·ªõc khi implement correction
- ***B·∫ÆT BU·ªòC*** update plan documentation sau khi correction ƒë∆∞·ª£c approve

### Implementation Mode Integration (Universal)
- ***B·∫ÆT BU·ªòC*** apply **Recitation System** khi g·∫∑p unclear requirements
- ***B·∫ÆT BU·ªòC*** implement **step-by-step validation** cho m·ªói phase
- ***B·∫ÆT BU·ªòC*** use **progress tracking format** cho all deliverables
- ***B·∫ÆT BU·ªòC*** maintain **implementation notes** throughout process
- ***B·∫ÆT BU·ªòC*** handle mode-specific error scenarios appropriately

### Context Analysis Error Handling
- ***B·∫ÆT BU·ªòC*** STOP n·∫øu kh√¥ng th·ªÉ determine appropriate operation mode
- ***B·∫ÆT BU·ªòC*** validate file existence v√† completeness tr∆∞·ªõc khi proceed
- ***B·∫ÆT BU·ªòC*** confirm user intent n·∫øu multiple modes applicable
- ***B·∫ÆT BU·ªòC*** document mode selection rationale

### Brainstorm/Update Phase Error Handling
#### For CREATE_NEW Mode
- N·∫øu kh√¥ng th·ªÉ access competitor information ‚Üí **STOP**, document issue, request user guidance
- N·∫øu feature definition kh√¥ng clear ‚Üí apply **Plan Correction Protocol**
- N·∫øu kh√¥ng th·ªÉ generate comprehensive brainstorm ‚Üí **STOP**, validate v·ªõi user v·ªÅ minimal viable approach

#### For UPDATE_EXISTING/SUPPLEMENT_DATA/RESTRUCTURE Modes
- ***B·∫ÆT BU·ªòC*** STOP n·∫øu existing content kh√¥ng th·ªÉ parse ho·∫∑c understand
- ***B·∫ÆT BU·ªòC*** validate change requests against existing structure
- ***B·∫ÆT BU·ªòC*** apply Recitation System cho conflicting requirements
- ***B·∫ÆT BU·ªòC*** use Plan Correction Protocol cho major structural changes

### Requirements Generation/Update Error Handling
#### Universal Rules
- N·∫øu brainstorm data insufficient ‚Üí apply **Plan Correction Protocol** v·ªõi user input request
- N·∫øu kh√¥ng th·ªÉ apply MoSCoW ‚Üí **STOP**, document limitation, request approval cho alternative approach
- N·∫øu acceptance criteria kh√¥ng feasible ‚Üí apply **step-by-step validation** ƒë·ªÉ identify specific issues

#### Mode-Specific Rules
- **UPDATE_EXISTING**: STOP n·∫øu changes break existing dependencies
- **SUPPLEMENT_DATA**: STOP n·∫øu new requirements conflict v·ªõi existing ones
- **RESTRUCTURE**: STOP n·∫øu restructure loses critical information

### Design Phase Error Handling
#### Universal Rules
- N·∫øu requirements unclear ‚Üí **STOP**, implement **Recitation System** ƒë·ªÉ clarify understanding
- N·∫øu technical constraints kh√¥ng realistic ‚Üí apply **Plan Correction Protocol**
- N·∫øu UI/UX specifications qu√° complex ‚Üí **STOP**, validate scope reduction v·ªõi user

#### Mode-Specific Rules
- **UPDATE_EXISTING**: STOP n·∫øu design changes break backward compatibility
- **SUPPLEMENT_DATA**: STOP n·∫øu new design elements kh√¥ng integrate properly
- **RESTRUCTURE**: STOP n·∫øu restructure affects system integrity

### Task Generation/Update Error Handling
#### Universal Rules
- N·∫øu design specifications incomplete ‚Üí **STOP**, validate partial implementation approach
- N·∫øu dependency mapping qu√° complex ‚Üí apply **Plan Correction Protocol** cho simplified approach
- N·∫øu acceptance criteria kh√¥ng measurable ‚Üí implement **progress tracking format** v·ªõi basic metrics

#### Mode-Specific Rules
- **UPDATE_EXISTING**: STOP n·∫øu task changes affect completed work
- **SUPPLEMENT_DATA**: STOP n·∫øu new tasks create circular dependencies
- **RESTRUCTURE**: STOP n·∫øu task reorganization loses progress tracking

### Recovery Protocols

#### Incomplete Brainstorm Recovery
- Apply **Recitation System** ƒë·ªÉ validate current understanding
- Document missing information v·ªõi **Plan Correction Protocol**
- Request user approval cho alternative brainstorm approach

#### Design Issues Recovery
- Implement **step-by-step validation** cho design components
- Apply **Plan Correction Protocol** khi technical constraints conflict
- Use **progress tracking format** ƒë·ªÉ monitor design review progress

#### Task Generation Problems Recovery
- Apply **Execute ‚Üí Verify ‚Üí Validate ‚Üí Update** pattern cho task breakdown
- Use **Plan Correction Protocol** khi dependencies qu√° ph·ª©c t·∫°p
- Implement **Recitation System** ƒë·ªÉ validate task acceptance criteria

## Monitoring v√† Metrics v·ªõi Implementation Mode Integration

### Quality Assurance Standards (T·ª´ Note.md Implementation Mode)
- ***B·∫ÆT BU·ªòC*** implement **methodical approach** v·ªõi step-by-step validation
- ***B·∫ÆT BU·ªòC*** maintain **quality standards** cho code patterns, documentation, v√† testing
- ***B·∫ÆT BU·ªòC*** apply **plan-driven execution** v·ªõi strict adherence to implementation plans
- ***B·∫ÆT BU·ªòC*** document **implementation notes** cho m·ªói completed step

### Enhanced Process Metrics
- Time t·ª´ brainstorm ƒë·∫øn completed tasks v·ªõi **Recitation System** overhead
- Number of iterations c·∫ßn thi·∫øt cho m·ªói phase v·ªõi **Plan Correction Protocol**
- Quality c·ªßa generated artifacts v·ªõi **step-by-step validation**
- **Plan deviation frequency** v√† correction success rate
- **Implementation notes coverage** percentage

### Comprehensive Success Criteria
- T·∫•t c·∫£ 4 files ƒë∆∞·ª£c t·∫°o th√†nh c√¥ng v·ªõi **quality assurance standards**
- Tasks c√≥ th·ªÉ execute ƒë∆∞·ª£c b·∫±ng Kiro system v·ªõi complete documentation
- Zero blocking issues trong task execution v·ªõi **Plan Correction Protocol** support
- Stakeholder approval cho requirements v√† design v·ªõi **step-by-step validation**
- ***B·∫ÆT BU·ªòC*** all **implementation notes** documented v√† validated
- ***B·∫ÆT BU·ªòC*** **plan-driven execution** maintained throughout process
- ***B·∫ÆT BU·ªòC*** successful handoff sang Kiro workflow v·ªõi complete documentation
- ***B·∫ÆT BU·ªòC*** **Plan Correction Protocol** documentation complete n·∫øu c√≥ deviations

## Best Practices

### Documentation (Mode-Aware)
- ***B·∫ÆT BU·ªòC*** maintain traceability t·ª´ brainstorm ƒë·∫øn tasks
- ***B·∫ÆT BU·ªòC*** document assumptions, decisions, v√† changes
- ***B·∫ÆT BU·ªòC*** version control t·∫•t c·∫£ generated files v·ªõi change history
- ***KHUY·∫æN NGH·ªä*** t·∫°o summary document cho quick reference
- ***B·∫ÆT BU·ªòC*** track operation mode rationale v√† outcomes

### Collaboration (Enhanced)
- ***B·∫ÆT BU·ªòC*** involve stakeholders trong requirements review (all modes)
- ***KHUY·∫æN NGH·ªä*** peer review cho design specifications
- ***B·∫ÆT BU·ªòC*** validate tasks v·ªõi development team
- ***B·∫ÆT BU·ªòC*** continuous feedback loop v·ªõi users
- ***B·∫ÆT BU·ªòC*** change impact communication cho UPDATE/RESTRUCTURE modes

### Continuous Improvement (Dynamic)
- ***B·∫ÆT BU·ªòC*** collect feedback sau m·ªói dynamic workflow execution per mode
- ***B·∫ÆT BU·ªòC*** update templates d·ª±a tr√™n lessons learned across different operations
- ***KHUY·∫æN NGH·ªä*** maintain knowledge base c·ªßa common patterns
- ***B·∫ÆT BU·ªòC*** optimize workflow efficiency cho each operation type
- ***B·∫ÆT BU·ªòC*** monitor mode usage patterns v√† success rates

## T√≠ch H·ª£p v·ªõi Existing Workflows

### Planning Workflow Integration (Enhanced)
- ***B·∫ÆT BU·ªòC*** s·ª≠ d·ª•ng [Planning Workflow](planning-workflow.mdc) sau khi c√≥ tasks
- ***B·∫ÆT BU·ªòC*** apply planning validation rules
- ***B·∫ÆT BU·ªòC*** integrate v·ªõi project stage management
- ***B·∫ÆT BU·ªòC*** support incremental planning updates cho non-CREATE modes

### Development Workflow Integration (Mode-Aware)
- ***B·∫ÆT BU·ªòC*** transition sang [Development Rules](development-rules.mdc) sau task generation
- ***B·∫ÆT BU·ªòC*** apply [Auto Task Execution](auto-task-execution.mdc) cho generated tasks
- ***B·∫ÆT BU·ªòC*** maintain consistency v·ªõi existing development practices
- ***B·∫ÆT BU·ªòC*** support development workflow updates cho changed artifacts

### Quality Assurance Integration (Universal)
- ***B·∫ÆT BU·ªòC*** all artifacts must pass quality gates tr∆∞·ªõc khi handoff
- ***B·∫ÆT BU·ªòC*** validation protocols ensure compatibility v·ªõi downstream processes
- ***B·∫ÆT BU·ªòC*** error handling mechanisms prevent workflow disruption
- ***B·∫ÆT BU·ªòC*** mode-specific quality checks ensure appropriate validation

---

**L∆∞u √Ω quan tr·ªçng**: Kiro Dynamic Workflow c√≥ th·ªÉ ƒë∆∞·ª£c s·ª≠ d·ª•ng:
1. **As Dynamic Workflow**: Khi Kiro tools kh√¥ng available ho·∫∑c kh√¥ng th·ªÉ t·∫°o ƒë∆∞·ª£c required files
2. **On Demand**: Khi user explicitly requests artifact creation/update
3. **For Maintenance**: Khi c·∫ßn supplement ho·∫∑c restructure existing artifacts
4. **For Evolution**: Khi project requirements ho·∫∑c scope changes

Trong normal operations v·ªõi stable artifacts, prefer using dedicated Kiro tools. Dynamic workflow provides flexibility cho changing requirements v√† iterative development.